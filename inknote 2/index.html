<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>inknote</title>
    <link href='http://fonts.googleapis.com/css?family=Josefin+Sans:300,400' rel='stylesheet' type='text/css'>
    <link href="styles/styles.min.css" rel="stylesheet" />
    <meta name="viewport" content="width=420, user-scalable=no">
    <link rel="icon" href="favicon.ico" />
</head>
<body>
    <div class="header">
        <h1 style="cursor: pointer" onclick="Inknote.Action(Inknote.ActionType.ToPage, Inknote.Managers.Page.Score)">inknote</h1>
        <div class="button" onclick="Inknote.Action(Inknote.ActionType.OpenProject)">Projects</div>
        <div class="button" onclick="Inknote.Action(Inknote.ActionType.NewProject)">New</div>
        <div class="button" onclick="Inknote.Action(Inknote.ActionType.SaveProject)">Save</div>
        <div class="button" id="play" onclick="Inknote.Audio.AudioService.Instance.play()">Play</div>

        <div class="menu-button" onclick="Menu.toggle()">
            <div class="menu-line"></div>
            <div class="menu-line"></div>
            <div class="menu-line"></div>
        </div>

    </div>

    <div class="menu" onclick="Menu.toggle();" id="main-menu">
        <div class="menu-item" onclick="Menu.openSubMenu('project-menu')">project</div>
        <span class="score-item">
            <div class="menu-item" onclick="Menu.openSubMenu('edit-menu')">edit</div>
            <div class="menu-item" onclick="Menu.openSubMenu('instrument-menu')">instrument</div>
            <div class="menu-item" onclick="Menu.openSubMenu('bar-menu')">bar</div>
        </span>
        <div class="menu-item" onclick="Menu.openSubMenu('tools-menu')">tools</div>
        <div class="menu-item" onclick="Menu.openSubMenu('help-menu')">help</div>
        <!--<svg width="100px" viewbox="0 0 30 42">
            <path fill="black" stroke="transparent" stroke-width="1" d="M15 3 Q16.5 6.8 25 18 A12.8 12.8 0 1 1 5 18 Q13.5 6.8 15 3z" />
        </svg>-->
    </div>

    <div class="sub-menu menu" id="project-menu" onclick="Menu.closeAllSubMenus()">
        <div class="menu-item" onclick="Inknote.Action(Inknote.ActionType.NewProject)">new project</div>
        <div class="menu-item" onclick="Inknote.Action(Inknote.ActionType.SaveProject)">save</div>
        <span class="score-item">
            <div class="menu-item" onclick="{var project = Inknote.Managers.ProjectManager.Instance.currentProject; Inknote.ProjectOptionsService.Instance.open(project);}">project details</div>
        </span>
    </div>

    <div class="sub-menu menu" id="edit-menu" onclick="Menu.closeAllSubMenus()">
        <div class="menu-item" onclick="Inknote.UndoService.Instance.undo()">undo</div>
    </div>

    <div class="sub-menu menu" id="instrument-menu" onclick="Menu.closeAllSubMenus()">
        <div class="menu-item" onclick="Inknote.InstrumentService.Instance.addInstrument()">add instrument</div>
        <div class="menu-item" onclick="Inknote.InstrumentService.Instance.openInstrumentEditor()">edit instruments</div>
    </div>

    <div class="sub-menu menu" id="bar-menu" onclick="Menu.closeAllSubMenus()">
        <div class="menu-item" onclick="{ Inknote.NoteControlService.Instance.addBar(); Inknote.ScoringService.Instance.refresh(); }">add bar</div>
    </div>

    <div class="sub-menu menu" id="tools-menu" onclick="Menu.closeAllSubMenus()">
        <div class="menu-item" onclick="Modal.toggle('plugins');">plugins</div>
    </div>

    <div class="sub-menu menu" id="help-menu" onclick="Menu.closeAllSubMenus()">
        <div class="menu-item" onclick="window.open('http://www.michalpaszkiewicz.co.uk/inknote/developer/')">developer forum</div>
        <div class="menu-item" onclick="Modal.toggle('report')">report bug</div>
        <div class="menu-item" onclick="Modal.toggle('about')">about</div>
    </div>

    <div id="main" class="main-container">
        <div id="confirm-box" class="hidden">
            <div id="confirm-text">Are you sure?</div>
            <button id="confirm-ok" class="button">ok</button>
            <button id="confirm-cancel" class="button">cancel</button>
        </div>
        <div class="header-push"></div>

        <canvas id="my-canvas"></canvas>

        <!--<div class="footer-push"></div>-->
    </div>
    <!--<div class="footer"></div>-->

    <div id="modal-cover" class="hidden" onclick="Modal.hideAllModals()"></div>
    <div id="confirm-cover" class="hidden"></div>

    <div id="report" class="hidden modal">
        <div class="x" onclick="Modal.cancelReport()">x</div>

        <div class="overflower">
            <h2>Bug report</h2>
            <textarea id="report-text" placeholder="Please describe your issue here"></textarea>
            <div class="line"><input id="report-checkbox" type="checkbox" />I am a human</div>
            <div class="button" onclick="Modal.cancelReport()">Cancel</div>
            <div class="button" onclick="Modal.submitReport()">Send</div>
        </div>
    </div>

    <div id="instruments" class="hidden modal">
        <div class="x" onclick="Modal.toggle('instruments')">x</div>

        <div class="overflower">
            <h2>Instruments</h2>
            <div id="instrument-list">

            </div>
        </div>
    </div>

    <div id="about" class="hidden modal">
        <div class="x" onclick="Modal.toggle('about')">x</div>

        <div class="overflower">
            <h2>About</h2>
            <div>
                This is an <a href="https://github.com/MichalPaszkiewicz/inknote" target="_blank">open source music scoring program</a> made with loving care by

                <a href="http://www.michalpaszkiewicz.co.uk" target="_blank">Michal Paszkiewicz</a>
            </div>
        </div>

    </div>

    <div id="plugins" class="hidden modal">
        <div class="x" onclick="Modal.toggle('plugins')">x</div>

        <div class="overflower">
            <h2>Plugins</h2>
            <div class="modal-menu">
                <div class="modal-menu-item plugin-menu-item select" onclick="Actions.Plugins.PluginMenuClick(this, 'plugin-list')">Plugin list</div>
                <div class="modal-menu-item plugin-menu-item" onclick="Actions.Plugins.PluginMenuClick(this, 'plugin-event-list')">Event list</div>
                <div class="modal-menu-item plugin-menu-item" onclick="Actions.Plugins.PluginMenuClick(this, 'plugin-advanced')">Advanced</div>
            </div>
            <div id="plugin-list">
                <h3>List</h3>
                <!-- List of plugin names goes in here. -->
                <div id="plugin-list-items"></div>
                <div class="button">Add external plugin</div>
            </div>
            <div id="plugin-event-list" class="hidden">
                <h3>Events</h3>
                <!-- List of events in plugin manager and plugins affecting them goes here -->
            </div>
            <div id="plugin-advanced" class="hidden">
                <h3>Advanced</h3>
                <!-- List of plugins with advanced options goes here -->
            </div>
            <div class="button" onclick="Modal.toggle('plugins')">Close</div>
        </div>
    </div>

    <div id="project-options" class="hidden modal">
        <div class="x" onclick="Modal.toggle('project-options')">x</div>

        <div class="overflower">
            <div id="project-options-details">

            </div>
            <div class="button" onclick="Modal.toggle('project-options')">Close</div>
        </div>
    </div>

    <div id="landing" class="cover" onclick="Inknote.Landing.Landing.Instance.hide()">
        <canvas id="landing-canvas"></canvas>
        <div class="central">
            <div class="cover-text">
                <h1>inknote</h1>
                <p>click anywhere to start</p>
            </div>
        </div>
    </div>

    <div id="drag-drop" class="hidden cover">
        <canvas id="drag-drop-canvas"></canvas>
        <div class="dashed-border">
            <div id="drag-drop-text" class="cover-text">
                drop your file(s) here!
            </div>
        </div>
    </div>

    <script src="@script.js"></script>
</body>
</html>
